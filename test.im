// ROADMAP TO POINTERS:
//
// [*] Make pointers work in a scope, but not interact with constants in any way.
// [*] Allow acquiring pointers from a constant value, by adding some extra instructions.
// [*] Pointer buffers, with info about how much a pointer contains
// [/] Assigning pointers/pointer buffers to constants, by creating other constants that contain
//   a copy of the thing that was behind the pointer.

std :: import "std";

main :: || {
	buffer := std\alloc_u64(5);

	*std\buffer_get(buffer, 0) = 50;
	*std\buffer_get(buffer, 1) = 25;
	*std\buffer_get(buffer, 2) = 50;
	*std\buffer_get(buffer, 3) = 25;
	*std\buffer_get(buffer, 4) = 50;

	std\buffer_iterate(buffer, |index: U64, value: &U64| {
		std\debug("index", index);
		std\debug("value", *value);
		print("\n");
	});
};
